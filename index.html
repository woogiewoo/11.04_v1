<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>박성욱 포트폴리오</title>
    <!-- 외부 CSS 파일 연결 -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <img src="images/Line 1.png" alt="좌측 상단 코너 라인" class="corner-line top-left">
    <img src="images/Line 2.png" alt="우측 상단 코너 라인" class="corner-line top-right">

    <main class="portfolio-container">
        <div class="landing-image-wrapper">
            <img src="images/main.png" alt="메인 포트폴리오 일러스트" class="main-illustration">
            <img src="images/portfolio.png" alt="포트폴리오 제목" class="portfolio-text">
            <img src="images/name.png" alt="박성욱 2025" class="name-bar">
        </div>
    </main>

    <!-- =============================================== -->
    <!-- Content / Index Page Section                  -->
    <!-- =============================================== -->
    <section class="content-section">
        <h2 class="content-title">Content</h2>
        <div class="content-wrapper">
            <!-- Left Column: Introduction -->
            <div class="intro-container">
                <!-- intro-box를 배경 이미지와 콘텐츠 컨테이너로 분리 -->
                <div class="intro-box-background">
                    <img src="images/intro_box.png" alt="Intro box background image">
                </div>
                <div class="intro-box-content">
                    <!-- 그룹 1: 인사말 -->
                    <div class="intro-group-greeting">
                        <img src="images/greeting.svg" alt="Greeting text as an image" class="intro-svg">
                    </div>
                    <!-- 그룹 2: 자기소개 -->
                    <div class="intro-group-description">
                        <img src="images/description.svg" alt="Description text as an image" class="intro-svg">
                    </div>
                    <!-- 그룹 3: 보유 기술 -->
                    <div class="intro-group-skills">
                        <img src="images/skills.svg" alt="Skills list as an image" class="intro-svg">
                    </div>
                </div>
                <div class="skill-icons">
                    <img src="images/icon 1.png" alt="Skill Icon 1">
                    <img src="images/icon 2.png" alt="Skill Icon 2">
                    <img src="images/icon 3.png" alt="Skill Icon 3">
                    <img src="images/icon 4.png" alt="Skill Icon 4">
                </div>
            </div>

            <!-- Right Column: Category Navigation -->
            <div class="category-container">
                <a href="#" class="category-item">
                    <img src="images/content_web.png" alt="UX / UI Category" class="category-image">
                    <img src="images/star.png" alt="Star Accent" class="star-accent">
                    <span class="category-label">UX / UI</span>
                </a>
                <a href="#" class="category-item">
                    <img src="images/content_branding.png" alt="Branding Category" class="category-image">
                    <img src="images/star.png" alt="Star Accent" class="star-accent">
                    <span class="category-label">branding</span>
                </a>
                <a href="#" class="category-item">
                    <img src="images/content_illu.png" alt="Illustration Category" class="category-image">
                    <img src="images/star.png" alt="Star Accent" class="star-accent">
                    <span class="category-label">illustration</span>
                </a>
                <a href="#" class="category-item">
                    <img src="images/content_print.png" alt="Print Products Category" class="category-image">
                    <img src="images/star.png" alt="Star Accent" class="star-accent">
                    <span class="category-label">print products</span>
                </a>
            </div>
        </div>
    </section>

    <!-- Lenis Smooth Scroll 라이브러리 추가 -->
    <script src="https://cdn.jsdelivr.net/npm/@studio-freight/lenis@1.0.42/dist/lenis.min.js"></script>

    <!-- GSAP & ScrollTrigger 라이브러리 추가 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <!-- GSAP 애니메이션 스크립트 -->
    <script>
        // --- Lenis Smooth Scroll 초기화 및 GSAP 연동 ---
        const lenis = new Lenis();

        lenis.on('scroll', ScrollTrigger.update);

        gsap.ticker.add((time) => {
            lenis.raf(time * 1000);
        });

        gsap.ticker.lagSmoothing(0);

        // ScrollTrigger 플러그인 등록
        gsap.registerPlugin(ScrollTrigger);

        // --- 0. 랜딩 페이지 초기 상태 설정 ---
        // CSS에서 transform을 제거했으므로, GSAP로 초기 위치와 상태를 명확히 설정합니다.
        // 이렇게 하면 CSS 렌더링과 GSAP 실행 사이의 충돌로 인한 위치 이동 문제를 근본적으로 해결합니다.
        gsap.set(".main-illustration", { xPercent: -50, yPercent: -70, autoAlpha: 0 });
        gsap.set([".corner-line", ".portfolio-text", ".name-bar"], { autoAlpha: 0 });

        // --- 1. 랜딩 페이지 애니메이션 ---
        const landingTl = gsap.timeline({
            // 페이지 로드 후 약간의 지연 시간을 줌
            delay: 0.3
        });

        landingTl
            // 코너 라인들이 바깥에서 안으로 들어오며 나타남
            .to(".corner-line", { duration: 0.8, autoAlpha: 1, stagger: 0.1, ease: "power2.out" })
            // 메인 일러스트가 살짝 커지면서 나타남
            .fromTo(".main-illustration", { scale: 0.95 }, { scale: 1, autoAlpha: 1, duration: 1.2, ease: "power2.out" }, "-=0.5")
            // 포트폴리오 제목이 아래에서 위로 나타남
            .fromTo(".portfolio-text", { y: "+=30" }, { y: "+=0", autoAlpha: 1, duration: 0.8, ease: "power2.out" }, "-=0.8")
            // 이름 바가 아래에서 위로 나타남
            .fromTo(".name-bar", { y: "+=30" }, { y: "+=0", autoAlpha: 1, duration: 0.8, ease: "power2.out" }, "<0.3");

        // --- 2. 콘텐츠 섹션 스크롤 애니메이션 ---
        const contentTl = gsap.timeline({
            scrollTrigger: {
                trigger: ".content-section", // 애니메이션 시작을 유발할 요소
                start: "top 60%",          // .content-section의 상단이 뷰포트 60% 지점에 닿을 때 시작
                toggleActions: "play none none none", // 스크롤 시 한 번만 재생
            }
        });

        // 애니메이션 순서 정의
        contentTl
            // 1. 배경 이미지 섹션이 서서히 나타남
            .from(".content-section", { duration: 1, autoAlpha: 0 })
            // 2. "Content" 타이틀이 오른쪽에서 나타남
            .from(".content-title", { duration: 0.8, x: 100, autoAlpha: 0 }, "-=0.5")
            // 3. 왼쪽 소개 박스 배경이 왼쪽에서 나타남
            .from(".intro-box-background", { duration: 1, x: -100, autoAlpha: 0 }, "<")
            // 3.1. intro-box 내부 SVG 이미지들이 순차적으로 나타남
            .from(".intro-group-greeting", { duration: 0.7, y: 30, autoAlpha: 0 }, "-=0.5")
            .from(".intro-group-description", { duration: 0.7, y: 30, autoAlpha: 0 }, "-=0.4")
            .from(".intro-group-skills", { duration: 0.7, y: 30, autoAlpha: 0 }, "-=0.4")
            // 4. 스킬 아이콘들이 아래에서 위로 순차적으로 나타남
            // GSAP가 transform을 제어하므로, CSS 대신 스크립트에서 직접 위치/회전을 설정합니다.
            .from(".skill-icons img:nth-child(1)", { duration: 0.5, y: 50, autoAlpha: 0, x: "10%", y: "-20%", rotation: -15 }, "-=0.5")
            .from(".skill-icons img:nth-child(2)", { duration: 0.5, y: 50, autoAlpha: 0, x: "-10%", y: "10%", rotation: 10 }, "<0.2")
            .from(".skill-icons img:nth-child(3)", { duration: 0.5, y: 50, autoAlpha: 0, x: "-10%", y: "-40%", rotation: 15 }, "<0.2")
            .from(".skill-icons img:nth-child(4)", { duration: 0.5, y: 50, autoAlpha: 0, x: "-20%", y: "30%", rotation: -10 }, "<0.2")
            // 5. 오른쪽 카테고리 아이템들이 아래에서 위로 순차적으로 나타남
            .from(".category-item", { duration: 0.6, y: 50, autoAlpha: 0, stagger: 0.2 }, "<");

    </script>
</body>
</html>